(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(e,n,t){},48:function(e,n,t){},83:function(e,n,t){"use strict";t.r(n);var a=t(1),i=t.n(a),o=t(36),s=t.n(o),c=(t(47),t(3)),d=(t(48),[{id:1,name:"apex"},{id:2,name:"azcli"},{id:3,name:"bat"},{id:4,name:"c"},{id:5,name:"clojure"},{id:6,name:"coffeescript"},{id:7,name:"cpp"},{id:8,name:"csharp"},{id:9,name:"csp"},{id:10,name:"css"},{id:11,name:"dockerfile"},{id:12,name:"fsharp"},{id:13,name:"go"},{id:14,name:"graphql"},{id:15,name:"handlebars"},{id:16,name:"html"},{id:17,name:"ini"},{id:18,name:"java"},{id:19,name:"javascript"},{id:20,name:"json"},{id:21,name:"kotlin"},{id:22,name:"less"},{id:23,name:"lua"},{id:24,name:"markdown"},{id:25,name:"msdax"},{id:26,name:"mysql"},{id:27,name:"objective-c"},{id:28,name:"pascal"},{id:29,name:"perl"},{id:30,name:"pgsql"},{id:31,name:"php"},{id:32,name:"plaintext"},{id:33,name:"postiats"},{id:34,name:"powerquery"},{id:35,name:"powershell"},{id:36,name:"pug"},{id:37,name:"python"},{id:38,name:"r"},{id:39,name:"razor"},{id:40,name:"redis"},{id:41,name:"redshift"},{id:42,name:"ruby"},{id:43,name:"rust"},{id:44,name:"sb"},{id:45,name:"scheme"},{id:46,name:"scss"},{id:47,name:"shell"},{id:48,name:"sol"},{id:49,name:"sql"},{id:50,name:"st"},{id:51,name:"swift"},{id:52,name:"tcl"},{id:53,name:"typescript"},{id:54,name:"vb"},{id:55,name:"xml"},{id:56,name:"yaml"}]),r=t(2);function l(e){return Object(r.jsx)("select",{className:"form-select",value:d.find((function(n){return n.name===e.value})).id||19,onChange:function(n){e.onLanguageChange(n.target.value)},children:function(){var e=d.map((function(e){return Object(r.jsx)("option",{value:e.id,children:e.name},e.id)}));return Object(r.jsxs)(r.Fragment,{children:[" ",e," "]})}()})}var m=Object(a.memo)(l),u=t(20),h=t(37),g=t(38),b=t(14),p=t(42),j=t(41),v=t(40),f=t(39),x=t.n(f),O=function(e){Object(p.a)(t,e);var n=Object(j.a)(t);function t(e){var a;return Object(h.a)(this,t),(a=n.call(this,e)).users={},a.decorations={},a.socket=null,a.editorRef=null,a._editor=void 0,a.contentWidgets={},a.handleEditorDidMount=function(e,n){a._editor=e,e.onDidChangeCursorSelection((function(e){a.socket.emit("selection",{event:e,meetingCode:a.props.meetingCode,userId:a.state.clientId})}))},a.showValue=function(e,n){var t=e;a.setState({code:t});var i={meetingCode:a.props.meetingCode,text:t,language:a.state.language,clientId:a.state.clientId};a.socket.emit("coded",i)},a.state={monaco:null,language:e.language,code:e.code,meetingCode:e.meetingCode,isFirstTime:!0,clientId:null},a.showValue.bind(Object(b.a)(a)),a}return Object(g.a)(t,[{key:"componentDidUpdate",value:function(e,n,t){this.state.isFirstTime||e.language!==this.state.language&&this.setState({language:this.props.language})}},{key:"insertCSS",value:function(e,n){var t=document.createElement("style");t.type="text/css",t.innerHTML+="."+e+" { background-color:"+n+"}\n",t.innerHTML+="\n        .".concat(e,"one { \n            background: ").concat(n,";\n            width:2px !important \n        }"),document.getElementsByTagName("head")[0].appendChild(t)}},{key:"insertWidget",value:function(e){this.contentWidgets[e.userId]={domNode:null,position:{lineNumber:0,column:0},getId:function(){return"content."+e.userId},getDomNode:function(){return this.domNode||(this.domNode=document.createElement("div"),this.domNode.innerHTML=e.name,this.domNode.style.background=e.color,this.domNode.style.color="black",this.domNode.style.opacity=.8,this.domNode.style.width="max-content"),this.domNode},getPosition:function(){return{position:this.position,preference:[window.monaco.editor.ContentWidgetPositionPreference.ABOVE,window.monaco.editor.ContentWidgetPositionPreference.BELOW]}}}}},{key:"changeSeleciton",value:function(e){var n=e.event,t=[];n.selection.startColumn==n.selection.endColumn&&n.selection.startLineNumber==n.selection.endLineNumber?(n.selection.endColumn++,t.push({range:n.selection,options:{className:"".concat(e.userId,"one"),hoverMessage:{value:e.userId}}})):t.push({range:n.selection,options:{className:e.userId,hoverMessage:{value:e.userId}}});var a,i=Object(u.a)(n.secondarySelections);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.startColumn==o.endColumn&&o.startLineNumber==o.endLineNumber?t.push({range:o,options:{className:"".concat(o.userId,"one"),hoverMessage:{value:o.userId}}}):t.push({range:o,options:{className:o.userId,hoverMessage:{value:o.userId}}})}}catch(s){i.e(s)}finally{i.f()}this.decorations[e.userId]=this._editor.deltaDecorations(this.decorations[e.userId],t)}},{key:"changeWidgetPosition",value:function(e){var n=e.event;this.contentWidgets[e.userId].position.lineNumber=n.selection.endLineNumber,this.contentWidgets[e.userId].position.column=n.selection.endColumn,this._editor.removeContentWidget(this.contentWidgets[e.userId]),this._editor.addContentWidget(this.contentWidgets[e.userId])}},{key:"componentDidMount",value:function(){var e=this;this.socket=x()("/"),this.socket.on("connection",(function(){console.info("connection"),e.setState({clientId:e.socket.id})})),this.socket.on("channel",(function(n){console.info("channel",n),n.name===e.props.meetingCode&&(e.props.onUserConnect(n.LastUserJoined.name),e.setState({code:n.text,language:n.language,meetingCode:n.meetingCode}),e.props.language!==n.language&&e.props.onLanguageChanged(n.language)),e.props.onUsersChanged(n.users)})),this.socket.on("coded",(function(n){console.info("coded",n),n.meetingCode===e.props.meetingCode&&n.clientId!==e.state.clientId&&(e.setState({code:n.text,language:n.language,meetingCode:n.meetingCode}),e.props.language!==n.language&&e.props.onLanguageChanged(n.language))})),this.socket.on("userdata",(function(n){console.log("userdata",n);var t,a=Object(u.a)(n);try{for(a.s();!(t=a.n()).done;){var i=t.value;e.users[i.userId]=i.color,e.insertCSS(i.userId,i.color),e.insertWidget(i),e.decorations[i.userId]=[]}}catch(o){a.e(o)}finally{a.f()}})),this.socket.emit("channel-join",this.state.meetingCode,(function(e){console.log("channel Joined",e)})),this.socket.on("selection",(function(n){console.info("selection",n),n.meetingCode===e.props.meetingCode&&n.userId!==e.state.clientId&&(e.changeSeleciton(n),e.changeWidgetPosition(n))})),this.setState({isFirstTime:!1})}},{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)(v.a,{height:"100vh",width:"90vw",theme:"vs-light",style:{float:"left"},onChange:this.showValue,path:this.state.language,defaultLanguage:this.state.language,value:this.state.code,onMount:this.handleEditorDidMount})})}}]),t}(a.Component);function C(){return Object(r.jsxs)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow",children:[Object(r.jsx)("a",{className:"navbar-brand col-md-3 col-lg-2 me-0 px-3",href:"#",children:"Interview Pad"}),Object(r.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(r.jsx)("span",{className:"navbar-toggler-icon"})}),Object(r.jsx)("div",{className:"navbar-nav",children:Object(r.jsx)("div",{className:"nav-item text-nowrap",children:Object(r.jsx)("a",{className:"nav-link px-3",href:"https://github.com/darshanmarathe/CodeCollab",target:"_blank",children:"Github"})})})]})}var N=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],i=n[1],o=Object(a.useState)("javascript"),s=Object(c.a)(o,2),l=s[0],u=s[1],h=Object(a.useState)("NA"),g=Object(c.a)(h,2),b=g[0],p=g[1],j=Object(a.useState)("bi-clipboard"),v=Object(c.a)(j,2),f=v[0],x=v[1],N="/"===window.location.pathname?function(e){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=t.length,i=0;i<e;i++)n+=t.charAt(Math.floor(Math.random()*a));return n}(8):window.location.pathname.replace("/","");return"/"===window.location.pathname&&(window.location.pathname="/"+N),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C,{}),Object(r.jsx)("div",{className:"container-fluid",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(r.jsx)("div",{className:"position-sticky pt-3",children:Object(r.jsxs)("ul",{className:"nav flex-column",children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsx)("a",{href:"/"+N,target:"_blank",className:"nav-link","aria-current":"page",children:N}),Object(r.jsx)("button",{title:"Copy to clipboard",onClick:function(e){e.stopPropagation(),function(e){var n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style={position:"absolute",left:"-9999px"},document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n)}(window.location.href),x("bi-clipboard-check")},className:"bi "+f}),Object(r.jsx)("br",{}),"me : ",Object(r.jsx)("b",{children:b})]})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)("div",{className:"nav-link",href:"#",children:Object(r.jsx)(m,{value:l,onLanguageChange:function(e){return function(e){var n=d.find((function(n){return n.id===parseInt(e)}));u(n.name)}(e)}})})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsxs)("div",{className:"nav-link",href:"#",children:[Object(r.jsx)("span",{"data-feather":"shopping-cart"}),"Users : ",Object(r.jsxs)("b",{children:[" ",t.length," "]}),Object(r.jsx)("ul",{children:t.map((function(e){return Object(r.jsx)("li",{style:{color:e.color,backgroundColor:"black",paddingLeft:"5px"},children:e.name})}))})]})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsxs)("a",{target:"_blank",href:"https://github.com/darshanmarathe",className:"nav-link",children:[Object(r.jsx)("span",{"data-feather":"shopping-cart"}),"Developed by : ",Object(r.jsx)("b",{children:"Darshan Marathe!!"})]})})]})})}),Object(r.jsx)("main",{className:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:Object(r.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:Object(r.jsx)(O,{language:l,meetingCode:N,code:"// write code here...",onUserConnect:function(e){"NA"===b&&p(e)},onUsersChanged:function(e){i(e)},onLanguageChanged:u})})})]})})]})},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,84)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,o=n.getLCP,s=n.getTTFB;t(e),a(e),i(e),o(e),s(e)}))};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(N,{})}),document.getElementById("root")),k()}},[[83,1,2]]]);
//# sourceMappingURL=main.54cb01d3.chunk.js.map